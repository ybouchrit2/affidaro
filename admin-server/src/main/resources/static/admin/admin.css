/* Admin styling aligned with main site aesthetics */
:root {
  --bg: #f8f9fa; /* الخلفية المطلوبة */
  --card: #ffffff;
  --muted: #6c757d; /* الثانوي */
  --primary: #0056b3; /* الأزرق Affidaro */
  --primary-dark: #003d80;
  --secondary: #6c757d;
  --accent: #f59e0b;
  --accent-dark: #d97706;
  --success: #198754;
  --danger: #dc3545;
  --glass: rgba(255, 255, 255, 0.92);
  --shadow: 0 10px 30px rgba(13, 38, 77, 0.08);
  --shadow-lg: 0 20px 45px rgba(13, 38, 77, 0.12);
  --radius: 16px;
  --radius-sm: 12px;
  --grid-gap: 16px;
}

html, body { height: 100%; }
body {
  font-family: 'Poppins','Cairo', sans-serif;
  background: var(--bg);
  color: #0a1525;
}

.navbar-dark.bg-primary {
  background-color: var(--primary) !important;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}
.navbar-brand { font-weight: 800; letter-spacing: .3px; }
.pill { border:1px solid rgba(255,255,255,0.25); border-radius: 20px; padding: 4px 10px; font-size: .9rem; }

.toolbar {
  background: var(--glass);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(13, 38, 77, 0.08);
  border-radius: var(--radius);
  padding: 18px;
  box-shadow: var(--shadow);
}
.toolbar .row { row-gap: var(--grid-gap); }
.toolbar .form-label { margin-bottom: 6px; }

.card {
  background: var(--card);
  border: none;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.card-title { font-weight: 700; color: var(--primary-dark); }
.stat { font-size: 1.4rem; color: var(--primary); }

/* Stat cards with gentle gradient */
.stat-card {
  background: linear-gradient(160deg, #ffffff, #f2f6ff);
}
.stat-card .card-body { padding: 20px; }
.stat { font-size: 1.6rem; }
.stat i { color: var(--primary); }

code {
  background: #eef2ff;
  padding: 2px 6px;
  border-radius: 6px;
}

.badge-page { background: var(--primary); }

.table thead th { white-space: nowrap; }
.table-striped>tbody>tr:nth-of-type(odd)>* { background-color: rgba(30, 64, 175, 0.03); }
.table { font-size: 0.95rem; }

/* Sticky table header and scrollable body */
.sticky-table { max-height: 420px; overflow: auto; border-radius: var(--radius-sm); }
.sticky-table table { margin-bottom: 0; }
.sticky-table thead th { position: sticky; top: 0; background: #f8fbff; z-index: 2; box-shadow: inset 0 -1px 0 rgba(13,38,77,0.08); }
.sticky-table::-webkit-scrollbar { height: 10px; width: 10px; }
.sticky-table::-webkit-scrollbar-thumb { background: rgba(30,64,175,0.25); border-radius: 8px; }

.list-group-item { border: none; border-bottom: 1px solid rgba(13, 38, 77, 0.08); }
.list-group-item:last-child { border-bottom: none; }
.list-group-item:hover { background: rgba(30,64,175,0.05); }

.btn-primary { background-color: var(--primary); border-color: var(--primary); }
.btn-outline-primary { color: var(--primary); border-color: var(--primary); }
.btn-outline-primary:hover { background-color: var(--primary); color: #fff; }
.btn-outline-success { color: var(--success); border-color: var(--success); }
.btn-outline-success:hover { background-color: var(--success); color: #fff; }
.btn-outline-secondary { border-color: var(--secondary); color: var(--secondary); }
.btn-outline-secondary:hover { background-color: var(--secondary); color: #fff; }

.modal-content { border-radius: var(--radius); box-shadow: var(--shadow-lg); }
.modal-header .modal-title { font-weight: 700; color: var(--primary-dark); }

.form-label { color: var(--muted); font-weight: 600; }
.form-control, .form-select { border-radius: var(--radius-sm); }
.muted { color: var(--muted); }

#loadingSpinner { margin-inline-start: 8px; }

/* Responsive container width harmony */
.container { max-width: 1200px; }

/* RTL fine-tuning */
[dir="rtl"] .navbar .ms-auto { margin-left: 0 !important; margin-right: auto !important; }
[dir="rtl"] .me-1 { margin-left: .25rem !important; margin-right: 0 !important; }

/* Footer */
.admin-footer { color: var(--muted); text-align: center; padding: 20px 0; }
.admin-footer small { font-weight: 600; }

@media (max-width: 768px) {
  .stat { font-size: 1.4rem; }
  .container { padding-inline: 12px; }
}
#updatingText { font-weight: 600; }
.pill { display:inline-block; padding:6px 10px; border:1px solid #ddd; border-radius:20px; background:#f8f9fa; }
.status-badge { padding:2px 8px; border-radius:12px; font-size: 0.85rem; }
.status-pending { background:#fff3cd; color:#8a6d3b; }
.status-signed { background:#d1e7dd; color:#0f5132; }
.status-cancelled { background:#f8d7da; color:#842029; }

/* Sidebar ثابت للتنقل — يظهر على الشاشات الكبيرة ويُخفى على الهواتف */
.admin-sidebar {
  position: fixed;
  top: 56px; /* ارتفاع شريط التنقل */
  left: 0;
  width: 240px;
  height: calc(100% - 56px);
  background: var(--card);
  border-right: 1px solid rgba(13, 38, 77, 0.08);
  box-shadow: var(--shadow);
  padding: 12px;
  z-index: 1030;
}
.admin-sidebar .sidebar-header { font-weight: 700; color: var(--primary-dark); margin-bottom: 12px; }
.admin-sidebar .sidebar-nav { display: flex; flex-direction: column; gap: 6px; }
.admin-sidebar .sidebar-nav a {
  display: flex; align-items: center; gap: 8px;
  padding: 10px 12px; border-radius: 10px;
  color: #0a1525; text-decoration: none;
}
.admin-sidebar .sidebar-nav a:hover { background: rgba(30,64,175,0.08); }
.admin-sidebar .sidebar-nav a.active { background: rgba(30,64,175,0.16); color: var(--primary-dark); }

/* إزاحة المحتوى الرئيسي عندما يكون الـ sidebar ظاهر */
.with-sidebar:not(.sidebar-collapsed) main.container-xl { margin-left: 260px; }
.with-sidebar.sidebar-collapsed main.container-xl { margin-left: 0; }

@media (max-width: 991.98px) {
  .with-sidebar main.container-xl { margin-left: 0; }
}

/* حالات الحالة وفق المواصفات */
.status-active { background:#d1e7dd; color:#0f5132; }
.status-inactive { background:#e2e3e5; color:#41464b; }
/* Utility: CSP-safe hiding without inline styles */
.is-hidden { display: none !important; }